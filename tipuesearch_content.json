{"pages":[{"url":"https://dallascard.github.io/the-reinforce-trick.html","text":"Background There is a lot of excitement these days around reinforcement learning, but it can be a difficult area to dive into. As with much of machine learning, part of the difficulty stems from the fact that same idea often appears under multiple names. For example, it's incredibly useful to understand that \"the backpropogation algorithm\" is really just gradient descent applied to neural networks! 1 Working through the math often reveals that a new idea is something we were already familiar with in a different guise. In the domain of reinforcement learning, names like policy gradient, REINFORCE , and so forth are often used with little exposition, and it's not always easy to find a simple explanation for these terms. It turns out however, that one particular flavour of reinforcment learning, known as policy gradient , is especially approchable. Moreover, there is a cool connection to modern variational inference that perhaps helps to make both of these things more clear. Reinforcement Learning The basic idea of reinforcement learning is that we want to train an model to make a sequence of predictions, where after each prediction, we recieve a reward, and enter into a new state. In particular, assume we start at time \\(t=0\\) in state \\(s_0\\) . At each time step we will take some action \\(a_t\\) . By taking that action, we will get some reward, \\(r_t\\) , and end up in a new state, \\(s_{t+1}\\) . By default we assume that the transition between states (the dynamics of the system) is governed by a stochastic process, which I will parameterize by \\(\\phi\\) , $$r_t~, s_{t+1} \\sim p(r_t~, s_{t+1}~|~s_t~, a_t ~; \\phi)$$ As it turns out, I won't have anything to say about \\(\\phi\\) here, but it helps to keep the dependence explicit for the sake of clarity. Obviously this general setting includes the case of deterministic dynamics as a special case. To choose our actions, we will make use of a stochastic policy , \\(\\pi\\) , which assigns a probability to each possible action, as a function only of our current state, \\(s_t\\) , and parameters, \\(\\theta\\) : $$a_t \\sim \\pi(a_t~|~s_t ~; \\theta)$$ A trajectory is the name for a sequence of state, action, reward tuples : $$\\tau = (s_0, a_0, r_0, s_1, a_1, r_1, ..., s_T, a_T, r_T) $$ The probability of a trajectory is just the product of the original transition and policy probabilities: $$p(\\tau ~; \\theta, \\phi) = \\prod_{t=1}&#94;T p(r_t~, s_{t+1} | s_t~, a_t ~; \\phi) ~\\pi(a_t | s_t ~; \\theta) $$ Eventually we will end up in some terminal state, \\(s_T\\) , at which point we will return the total reward, which is just the sum of the individual rewards accumulated along the way: \\(R(\\tau) = \\sum_t ~ r_t\\) Policy Gradient The goal of reinforcement learning is to learn a good policy, one that will maximize our expected reward , where the expectation is with respect to the trajectory. $$ \\underset{\\theta}{\\max} ~ \\mathbb{E}_{p(\\tau | \\theta ~, \\phi)} [R(\\tau)]$$ Some approaches to reinforcement learning involve more complex modeling of the internal dynamics of the system. Policy gradient , however, is a particularly simple approach. We will simply use sampled trajectories to try to adjust our policy so as to increase the expected reward using gradient ascent. In particular, if we can compute a gradient, \\(\\hat g\\) , with respect to parameters \\(\\theta\\) , then we can simply use this to repeatedly adjust our parameters, according to some step size \\(\\alpha\\) : $$ \\hat g = \\nabla_{\\theta} ~ \\mathbb{E}_{p(\\tau | \\theta ~, \\phi)} [R(\\tau)]$$ $$ \\theta \\leftarrow \\theta + \\alpha \\hat g$$ The REINFORCE trick This seems simple enough, but there are a couple of problems. The first and most obvious problem is that computing the gradient analytically is intractable, because it depends on the exponentially large space of trajectories. This in itself is not so big a problem as it seems, however, because we borrow an idea from stochastic gradient descent, and simply use samples to approximate the gradient. In this case, we could think of taking sample trajectories and use these to make a monte carlo approximation: $$ \\tau_i \\sim p(\\tau ~;~ \\theta, \\phi), \\quad i=1,\\ldots,N$$ $$ \\hat g = \\nabla_{\\theta} ~ \\mathbb{E}_{p(\\tau | \\theta ~, \\phi)} [R(\\tau)] \\approx \\frac{1}{N} \\sum_{i=1}&#94;N \\nabla_{\\theta} [R(\\tau_i)]$$ There is an additional problem here, however. The only part of the gradient which was dependent on \\(\\theta\\) was distribution governing the expectation! The reward is only a function of the trajectory, which, once we've taken a sample, is independent of \\(\\theta\\) . Obviously, we can't differentiate with respect to \\(\\theta\\) if it doesn't appear in the equation (or rather, the gradient would be zero). To get around this, Williams (1992) proposed what has come to be known as the REINFORCE , also sometimes referred to as the \"likelihood ratio trick\". Specifically, we can make use of the fact that $$ \\nabla_{\\theta} p(z ~;~ \\theta) = p(z ~;~ \\theta) \\nabla_{\\theta} \\log p(z ; \\theta)$$ (To convince yourself of this, just note that \\(\\nabla_{\\theta} \\log p(z ; \\theta) = \\frac{1}{p(z ; \\theta)} \\nabla_{\\theta} p(z ; \\theta)\\) ; see Glynn, 1990 for details). If we make use of this trick before doing a monte carlo approximation of the gradient, we get: \\begin{align} \\nabla_{\\theta} ~ \\mathbb{E}_{p(\\tau | \\theta ~, \\phi)} [R(\\tau)] &= \\nabla_{\\theta} \\int_{\\tau} p(\\tau ; \\theta, \\phi) R[\\tau] d\\tau \\\\ &= \\int_{\\tau} \\nabla_{\\theta} p(\\tau ; \\theta, \\phi) R[\\tau] d\\tau \\\\ &= \\int_{\\tau} p(\\tau ; \\theta, \\phi) \\nabla_{\\theta} \\log p(\\tau ; \\theta, \\phi) R[\\tau] d\\tau \\\\ &= \\mathbb{E}_{p(\\tau | \\theta ~, \\phi)} [R(\\tau) \\nabla_{\\theta} \\log p(\\tau ; \\theta, \\phi)] \\\\ &\\approx \\frac{1}{N} \\sum_{i=1}&#94;N [R(\\tau_i) \\nabla_{\\theta} \\log p(\\tau_i ; \\theta, \\phi)] \\end{align} In this particular setting, we might go so far as to approximate the gradient with a single sample trajectory. The beautiful thing is that we can do this simply by using our current policy to generate actions, while letting the system determine our rewards and future states in response to those actions. Moreover, because the probability of a trajectory factors into the policy component and the state transition component, our approximation of the gradient ends up being only a function of the gradient of the log of our policy! Assuming that we now have a single sample trajectory, \\(\\tau\\) , on each iteration, our approximation becomes: \\begin{align} \\nabla_{\\theta} ~ \\mathbb{E}_{p(\\tau | \\theta ~, \\phi)} [R(\\tau)] &\\approx [R(\\tau) \\nabla_{\\theta} \\log p(\\tau ; \\theta, \\phi)] \\\\ &= R(\\tau) \\sum_{t=1}&#94;T \\nabla_{\\theta} [\\log p(a_t | s_t ~;~ \\theta) + \\log p(r_t, s_{t+1} ~;~ s_t, a_t, \\phi)] \\\\ &= R(\\tau) \\sum_{t=1}&#94;T \\nabla_{\\theta} \\log p(a_t | s_t ~;~ \\theta) \\\\ \\end{align} Now, it turns out that this approximation will be very high variance, and so various further tricks, such as using a baseline (also known as \"control variates\" - basically, subtracting something from each reward, possibly a quantity which we learn as a function of each state), are needed to make this work. But, the basic idea is there. Stepping back, observe that this algorithm works by randomly sampling a trajectory, and then adjusting the policy so as to make the sampled trajectory more likely in propotion to the total recieved reward . When stated in those terms, it is all the more intuitive why a baseline would be important, so that we can actually decrease the likelihood of actions that lead to worse-than-expected rewards. It is also worth noting that this approch doesn't distinguish between good and bad actions on a trajectory; all the actions taken are rewarded or punished together. While this seems like a rather blunt instrument, it is nevertheless a core element of recent successes like DeepMind's Alpha Go. Variational Inference This post is already getting long, so I won't cover all the relevant background variational inference, but I can't resist going over the way in which recent developments in VI have exploited the exact same idea. The general setting in VI is that we want to approximate some posterior, \\(p(z|x ; \\phi)\\) . We assume that computing this posterior exactly is intractable, so we will instead approximate it with an approximating (variational) distribution, \\(q(z | x ; \\theta)\\) , which we assume to have a more tractable form. There are a number of ways to derive the variational objective, but I think the simplest is assuming that we want to minimize the KL divergence between these two distributions: $$\\underset{\\theta}{\\min} \\textrm{KL}(q(z|x;\\theta)||p(z|x;\\phi))$$ If we work through the math, we will eventually encounter a term like: $$\\nabla_{\\theta} \\mathbb{E}_{q(z|x;\\theta)}[\\log p(x, z ; \\phi)]$$ Already, this should be looking familiar. At this point, there are actually a couple of options. If \\(z\\) is continuous, then we can use a clever reparameterization trick ( Kingma and Welling, 2014 ; Rezende et al 2014 ), where we can re-express the distribution of \\(z\\) as a function of an auxilliary variable, \\(\\epsilon\\) , which allows us to differentiate with respect to \\(\\theta\\) , i.e. $$\\epsilon \\sim N(0, I)$$ $$z = \\mu(x; \\theta) + \\Sigma(x; \\theta) \\cdot \\epsilon$$ For more details on this, see the original paper, or this excellent turorial by Carl Doersch. Here, however, we are more interested in something more similar to REINFORCE , which alternately goes under the name of \"Black Box variational inference\" ( Raganath et al 2013 ) or \"Neural variational inference\" ( Mnih and Gregor, 2014 ). The idea is exactly the same as above. By using the log trick, we can preserve the dependence on \\(\\theta\\) and approxiamte the gradient with an expectation: \\begin{align} \\nabla_{\\theta} \\mathbb{E}_{q(z|x;\\theta)}[\\log p(x, z ; \\phi)] &= \\mathbb{E}_{q(z|x;\\theta)} [\\log p(x, z; \\phi) \\nabla_{\\theta} \\log q(z | x; \\theta)] \\\\ &\\approx \\frac{1}{N} \\sum_{i=1}&#94;N \\log p(x, z&#94;{(i)} ; \\phi) \\nabla_{\\theta} \\log q(z&#94;{(i)} | x ; \\theta) \\end{align} As with reinforcement learning, there are some refinements needed in order to get this to work, and I encourage you to check out the papers, but this simply idea opens up a large space of possibilities, including using much more flexible variational distibutions that was previously possible, and more fully automated tools, such as Edward . Summary In summary, REINFORCE began as the name of a 25-year old algorithm, but has come to refer to the trick of re-expressing a gradient such that expectations can be approximated with monte carlo approximations. Policy gradient is just gradient descent applied to the expected reward in a reinforcement learning setting, and black box / neural VI use the same trick to optimize a variational distribution. For an even better expalnation of the same idea, check out this great blog post by Shakir Muhammed! References http://www.scholarpedia.org/article/Policy_gradient_methods Doersch C. Tutorial on Variational Autoencoders. 2016. link Glynn PW (1990). Likelihood ratio gradient estimation for stochastic systems. Communications of the ACM, 33(10):75–84, 1990. link Kingma DP and Welling M. Auto-Encoding Variational Bayes. ICLR , 2014. link Mnih A and Gregor K. Neural variational inference and learning in belief networks. ICML , 2014. link Raganath R, Gerrish S, Blei DM. Black Box Variational Inference. AISTATS , 2014. link Rezende DJ, Mohamed S, and Wierstra, D. Stochastic Backpropagation and Approximate Inference in Deep Generative Models. ICML , 2014. link Williams RJ. Simple Statistical Gradient-Following Algorithms for Connectionist Reinforcement Learning. In Machine Learning , 8:229-256, 1992. link Obviously \"gradient descent\" is additional terminology that might not be familiar to everyone, but I would argue it is a more general idea with broader applicability. ↩ if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) { var align = \"center\", indent = \"0em\", linebreak = \"false\"; if (false) { align = (screen.width < 768) ? \"left\" : align; indent = (screen.width < 768) ? \"0em\" : indent; linebreak = (screen.width < 768) ? 'true' : linebreak; } var mathjaxscript = document.createElement('script'); var location_protocol = (false) ? 'https' : document.location.protocol; if (location_protocol !== 'http' && location_protocol !== 'https') location_protocol = 'https:'; mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#'; mathjaxscript.type = 'text/javascript'; mathjaxscript.src = location_protocol + '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'; mathjaxscript[(window.opera ? \"innerHTML\" : \"text\")] = \"MathJax.Hub.Config({\" + \" config: ['MMLorHTML.js'],\" + \" TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } },\" + \" jax: ['input/TeX','input/MathML','output/HTML-CSS'],\" + \" extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js'],\" + \" displayAlign: '\"+ align +\"',\" + \" displayIndent: '\"+ indent +\"',\" + \" showMathMenu: true,\" + \" messageStyle: 'normal',\" + \" tex2jax: { \" + \" inlineMath: [ ['\\\\\\\\(','\\\\\\\\)'] ], \" + \" displayMath: [ ['$$','$$'] ],\" + \" processEscapes: true,\" + \" preview: 'TeX',\" + \" }, \" + \" 'HTML-CSS': { \" + \" styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} },\" + \" linebreaks: { automatic: \"+ linebreak +\", width: '90% container' },\" + \" }, \" + \"}); \" + \"if ('default' !== 'default') {\" + \"MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {\" + \"var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;\" + \"VARIANT['normal'].fonts.unshift('MathJax_default');\" + \"VARIANT['bold'].fonts.unshift('MathJax_default-bold');\" + \"VARIANT['italic'].fonts.unshift('MathJax_default-italic');\" + \"VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');\" + \"});\" + \"MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {\" + \"var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;\" + \"VARIANT['normal'].fonts.unshift('MathJax_default');\" + \"VARIANT['bold'].fonts.unshift('MathJax_default-bold');\" + \"VARIANT['italic'].fonts.unshift('MathJax_default-italic');\" + \"VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');\" + \"});\" + \"}\"; (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript); }","tags":"Archive","loc":"https://dallascard.github.io/the-reinforce-trick.html","title":"The REINFORCE trick"},{"url":"https://dallascard.github.io/installing-python-on-stampede.html","text":"Background I was fortunate enough for a while to have access to Stampede, part of the Texas Advanced Computing Center, and one of the largest supercompters in the world. The default setup is quite useful, but I eventually ran into a situation where I wanted to be able to install my own python (2.7) scientific stack. There were basically two reasons for this: First was to be able to take advantage of automatic offloading offered by Intel chips. Second was to be able to make use of the development version of a specific package (scikit-learn), which required installing it from source. I eventually found all the instructions I needed on the web, but it took a while, so I decided to document the whole process here, in gruesome detail, in case I ever need to do it again, or if someone else wants to do the same. There are probably multiple ways to accomplish the same thing. This is what worked for me. Installing a Python scientific stack First, load the relevant modules. (Note that I needed to use these specific versions of intel and python to get this to work): $ module load intel/14.0.1.106 $ module load python/2.7.6 Second, create a new virtual environment, activate it, and set the PYTHONPATH variable: $ export VENV = $HOME /python $ virtualenv $VENV $ source $VENV /bin/activate $ export PYTHONPATH = $VENV /lib/python2.7/site-packages Then, create a symbolic link for dealing with the lib64 directory $ ln -s $VENV /lib $VENV /lib64 Now, download and unzip the basic packages needed for a scientific stack. For me this was Cython, numpy, and scipy. These versions are probably out of date now, but they are the ones that worked for me. $ cd $HOME /python/downloads $ wget https://pypi.python.org/packages/c6/fe/97319581905de40f1be7015a0ea1bd336a756f6249914b148a17eefa75dc/Cython-0.24.1.tar.gz $ wget http://sourceforge.net/projects/numpy/files/NumPy/1.11.1/numpy-1.11.1.tar.gz $ wget http://sourceforge.net/projects/scipy/files/scipy/0.16.1/scipy-0.16.1.tar.gz $ tar -xzf *.tar.gz Install Cython: $ cd Cython-0.24.1 $ python setup.py install —prefix = $VENV Now we want to install numpy. This is where things get a bit tricky. Enter the directory, and load the fftw3 module: $ cd ../numpy-1.11.1 $ module load fftw3 Now we need to edit some files. In numpy/distutils/intelccompiler.py , edit the __init__ method in the IntelEM64TCCompilerclass to give more options to cc_exe: self.cc_exe = 'icc -m64 -O3 -g -fPIC -fp-model strict -fomit-frame-pointer -openmp -xhost' In numpy/distutils/fcompiler/intel.py , edit the get_flags(self) method in the IntelEM64TFCompiler class so it returns these options: return ['-fPIC -xhost -openmp -fp-model strict'] Also in that class, edit the get_flags_opt(self) method (which previously held most of the above flags) so it returns nothing: return[] Now try to build and install numpy with the following options: $ python setup.py build --compiler = intelem --fcompiler = intelem | tee build.log $ python setup.py install --prefix = $VENV | tee install.log Next install scipy, also with compiler options: $ cd ../scipy-0.16.1/ $ python setup.py config --compiler = intelem --fcompiler = intelem build_clib --compiler = intelem --fcompiler = intelem build_ext --compiler = intelem --fcompiler = intelem install --prefix = $VENV | tee build_install.log Finally, install ipython and test the configuration: $ cd .. $ pip install ipython $ ipython $ import numpy $ numpy . __version__ $ numpy . __config__ . show () If things worked properly, this should show the links against MKL. To use this configuration, add the following to each job to be submitted: module load intel / 14.0.1.106 module load python / 2.7.6 source $HOME / python / venvs / python2 .7.6 / bin / activate To get it to use automatic offloading, also add these lines to the script: export MKL_MIC_ENABLE=1 export OMP_NUM_THREADS=16 export MIC_OMP_NUM_THREADS=240 Please let me know if this fails for you for any reason, although at the moment I no longer have access to Stampede to test this out... References https://cvw.cac.cornell.edu/python/compiling https://software.intel.com/en-us/articles/numpyscipy-with-intel-mkl","tags":"Archive","loc":"https://dallascard.github.io/installing-python-on-stampede.html","title":"Installing python on Stampede"},{"url":"https://dallascard.github.io/building-this-blog.html","text":"Like many people out there, I've decided to use Pelican to manage a static blog hosted on Github. As is traditional, my first post is an overview of how I set this up. All of this information is available elsewhere, but not all in one place. I wrote this up mostly as a record for myself, but also in case anyone else is trying to accomplish the same thing. Requirements I'll assume that you are familiar with git, Github, python, and markdown, although you don't need to be an expert is any of these. The main thing is knowing how to set up a repo on Github, manage it locally, and to have python installed. Getting set up on Github On Github, create a new, empty, public repo: username.github.io where username is your Github username. For me this is dallascard.github.io Next, create a second repo to keep source files for the blog (this one can be public or private, and you may want to add a python .gitignore) Clone the second repo locally and cd into it. I will refer to this as the main directory of the blog, and all commands can be run from within it, except where otherwise noted. Creating a static blog with pelican Start by installing pelican and markdown with pip: $ pip install pelican $ pip install markdown Next, run pelican-quickstart to set up a basic blog. You can enter a name, author and time zone, all of which can be changed later. Otherwise, you can accept the defaults everywhere except where for specifying a URL prefix, which should be \"n\". $ git clone https://github.com/dallascard/github_blog.git $ cd github_blog $ pelican-quickstart Welcome to pelican-quickstart v3.6.3. This script will help you create a new Pelican-based website. Please answer the following questions so this script can generate the files needed by Pelican. > Where do you want to create your new web site? [ . ] > What will be the title of this web site? Github Blog > Who will be the author of this web site? Dallas Card > What will be the default language of this web site? [ en ] > Do you want to specify a URL prefix? e.g., http://example.com ( Y/n ) n > Do you want to enable article pagination? ( Y/n ) > How many articles per page do you want? [ 10 ] > What is your time zone? [ Europe/Paris ] US/Pacific > Do you want to generate a Fabfile/Makefile to automate generation and publishing? ( Y/n ) > Do you want an auto-reload & simpleHTTP script to assist with theme and site development? ( Y/n ) > Do you want to upload your website using FTP? ( y/N ) > Do you want to upload your website using SSH? ( y/N ) > Do you want to upload your website using Dropbox? ( y/N ) > Do you want to upload your website using S3? ( y/N ) > Do you want to upload your website using Rackspace Cloud Files? ( y/N ) > Do you want to upload your website using GitHub Pages? ( y/N ) Done. Your new project is available at /Users/dcard/Projects/blogs/github_blog This will create a series of files and subdirectories. The most important files and folders to know about are the content subfolder, where you will place markdown posts to be rendered, and the pelicanconf.py file, where you can control various aspects of the blog (including name, author, etc.) Creating content To add posts, we simply place a new file in the content subdirectory. Specifically, we will use markdown to write our posts. Create a new file in content called first_post.md and put the following lines in it. (Make sure there are no blank lines at the top). Title : first_post Date : 2014 - 12 - 13 18 : 32 Category : Test Hello world from Pelican ! Building and serving the blog locally To build the blog, run $ make html To preview the site, run $ make serve You should now be able to view the blog in a browser at http://localhost:8000 To shutdown the server, use Ctrl+c. Alternately, you can leave it running and simply re-run make html to rebuild, and then reload the page in your browser. There is also the possibility of using make regenerate to start a process that will automatically rebuild the site upon changes, or a single process that will automatically rebuild and serve the site ( make devserver ). To stop make devserver, use: $ ./develop_server.sh stop Choosing a theme To change themes, fork and clone the repo of pelican themes ( https://github.com/getpelican/pelican-themes ) or a specific theme. We'll go with the Pelican Octopress theme from https://github.com/duilio/pelican-octopress-theme . (Remember to fork the repo to be able to make and save changes). Whichever you choose, clone the repo to a new directory, outside the blog directory. In the main directory of the blog, edit pelicanconf.py by adding the following line: THEME = \"../pelican-octopress-theme\" The blog should now reflect the new theme when you rebuild and reload the page. (Note that sometimes Chrome failed to load the theme properly at localhost:8000; try using another browser if this is a problem for you). Using plugins A large set of plugins enhance pelican's functionality, such as the ability to display equations. Clone the pelican plugins repo ( https://github.com/getpelican/pelican-plugins ) to a new directory outside the blog directory. Edit the pelicanconf.py file for the blog to add the following lines: PLUGIN_PATHS = [ '../pelican-plugins/' ] PLUGINS = [ 'render_math' ] \\(\\LaTeX\\) math should now render properly: \\(x_i&#94;2 = \\sin(y)\\) Connecting to Github Pelican and Github work very nicely together, making for a seamless uplaod process. First, add, commit, and push the files in this repo. This stores the source files. This isn't strictly necessary, but why would you not want to backup your blog source files to Github? Before doing this, you may want to edit the .gitignore file to ignore the output subdirectory. Second, we want to push the html files that have been made by pelican to the github blog location. This is very simple, thanks to a tool called ghp-import. Start by installing it with pip: pip install ghp-import Once this is installed, just use these two command to push to the output to Github: ghp-import output git push git@github.com:username/username.github.io.git gh-pages:master Whenever your rebuild your blog, just re-run these two commands to upload the udpated html files. Modifying theme colors: Octopress is a beautiful theme, but I'm not crazy about the dark colors they use for code snippets. Fortunately, they provide a \"solarized\" alternative. First, download the compass ruby charm: gem install sass compass Then, change to the theme directory ( ../pelican-octopress-theme ), and edit the file sass/custom/_colors.scss To change to the \"solarized\" them, uncomment the line $solarized: light; You are free to customize things as you like, but personally I am not a fan of the default yellow background for codeblocks used by the solarized Octopress theme. The key change for me to add or modify a line to say $base3: #fefefe; (or a different color as you like). Once you have made these changes, recompile the theme with compass compile Finally, change back to the blog directory, and recompile it with make html . When you reload the blog, you should now have a nice light background for the code blocks. Support for iPython notebooks One of my most desired features was to be able to embed iPython notebooks into my blog. There is a plugin that makes this relatively easy, although it is not perfectly compatible with every theme. As a result, the colors will not be identical to how they would appear in a Jupyter notebook. Nevertheless, it is still functional and easy to use. Edit the pelicanconf.py file again add add the following line: MARKUP = ('md', ) Then change the line specifying the plugins to: PLUGINS = ['render_math', 'liquid.ipynb'] You should now be able to include a pointer to an .ipynb file that will be embedded in a blog post, by placeing notebook path/to/notebook.ipynb within curly-brace percent: /*! * * IPython notebook * */ /* CSS font colors for translated ANSI colors. */ .ansibold { font-weight: bold; } /* use dark versions for foreground, to improve visibility */ .ansiblack { color: black; } .ansired { color: darkred; } .ansigreen { color: darkgreen; } .ansiyellow { color: #c4a000; } .ansiblue { color: darkblue; } .ansipurple { color: darkviolet; } .ansicyan { color: steelblue; } .ansigray { color: gray; } /* and light for background, for the same reason */ .ansibgblack { background-color: black; } .ansibgred { background-color: red; } .ansibggreen { background-color: green; } .ansibgyellow { background-color: yellow; } .ansibgblue { background-color: blue; } .ansibgpurple { background-color: magenta; } .ansibgcyan { background-color: cyan; } .ansibggray { background-color: gray; } div.cell { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; border-radius: 2px; box-sizing: border-box; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; border-width: 1px; border-style: solid; border-color: transparent; width: 100%; padding: 5px; /* This acts as a spacer between cells, that is outside the border */ margin: 0px; outline: none; border-left-width: 1px; padding-left: 5px; background: linear-gradient(to right, transparent -40px, transparent 1px, transparent 1px, transparent 100%); } div.cell.jupyter-soft-selected { border-left-color: #90CAF9; border-left-color: #E3F2FD; border-left-width: 1px; padding-left: 5px; border-right-color: #E3F2FD; border-right-width: 1px; background: #E3F2FD; } @media print { div.cell.jupyter-soft-selected { border-color: transparent; } } div.cell.selected { border-color: #ababab; border-left-width: 0px; padding-left: 6px; background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 5px, transparent 5px, transparent 100%); } @media print { div.cell.selected { border-color: transparent; } } div.cell.selected.jupyter-soft-selected { border-left-width: 0; padding-left: 6px; background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 7px, #E3F2FD 7px, #E3F2FD 100%); } .edit_mode div.cell.selected { border-color: #66BB6A; border-left-width: 0px; padding-left: 6px; background: linear-gradient(to right, #66BB6A -40px, #66BB6A 5px, transparent 5px, transparent 100%); } @media print { .edit_mode div.cell.selected { border-color: transparent; } } .prompt { /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */ min-width: 14ex; /* This padding is tuned to match the padding on the CodeMirror editor. */ padding: 0.4em; margin: 0px; font-family: monospace; text-align: right; /* This has to match that of the the CodeMirror class line-height below */ line-height: 1.21429em; /* Don't highlight prompt number selection */ -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; /* Use default cursor */ cursor: default; } @media (max-width: 540px) { .prompt { text-align: left; } } div.inner_cell { min-width: 0; /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; /* Old browsers */ -webkit-box-flex: 1; -moz-box-flex: 1; box-flex: 1; /* Modern browsers */ flex: 1; } /* input_area and input_prompt must match in top border and margin for alignment */ div.input_area { border: 1px solid #cfcfcf; border-radius: 2px; background: #f7f7f7; line-height: 1.21429em; } /* This is needed so that empty prompt areas can collapse to zero height when there is no content in the output_subarea and the prompt. The main purpose of this is to make sure that empty JavaScript output_subareas have no height. */ div.prompt:empty { padding-top: 0; padding-bottom: 0; } div.unrecognized_cell { padding: 5px 5px 5px 0px; /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } div.unrecognized_cell .inner_cell { border-radius: 2px; padding: 5px; font-weight: bold; color: red; border: 1px solid #cfcfcf; background: #eaeaea; } div.unrecognized_cell .inner_cell a { color: inherit; text-decoration: none; } div.unrecognized_cell .inner_cell a:hover { color: inherit; text-decoration: none; } @media (max-width: 540px) { div.unrecognized_cell > div.prompt { display: none; } } div.code_cell { /* avoid page breaking on code cells when printing */ } @media print { div.code_cell { page-break-inside: avoid; } } /* any special styling for code cells that are currently running goes here */ div.input { page-break-inside: avoid; /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } @media (max-width: 540px) { div.input { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } } /* input_area and input_prompt must match in top border and margin for alignment */ div.input_prompt { color: #303F9F; border-top: 1px solid transparent; } div.input_area > div.highlight { margin: 0.4em; border: none; padding: 0px; background-color: transparent; } div.input_area > div.highlight > pre { margin: 0px; border: none; padding: 0px; background-color: transparent; } /* The following gets added to the <head> if it is detected that the user has a * monospace font with inconsistent normal/bold/italic height. See * notebookmain.js. Such fonts will have keywords vertically offset with * respect to the rest of the text. The user should select a better font. * See: https://github.com/ipython/ipython/issues/1503 * * .CodeMirror span { * vertical-align: bottom; * } */ .CodeMirror { line-height: 1.21429em; /* Changed from 1em to our global default */ font-size: 14px; height: auto; /* Changed to auto to autogrow */ background: none; /* Changed from white to allow our bg to show through */ } .CodeMirror-scroll { /* The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/ /* We have found that if it is visible, vertical scrollbars appear with font size changes.*/ overflow-y: hidden; overflow-x: auto; } .CodeMirror-lines { /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */ /* we have set a different line-height and want this to scale with that. */ padding: 0.4em; } .CodeMirror-linenumber { padding: 0 8px 0 4px; } .CodeMirror-gutters { border-bottom-left-radius: 2px; border-top-left-radius: 2px; } .CodeMirror pre { /* In CM3 this went to 4px from 0 in CM2. We need the 0 value because of how we size */ /* .CodeMirror-lines */ padding: 0; border: 0; border-radius: 0; } /* Original style from softwaremaniacs.org (c) Ivan Sagalaev <Maniac@SoftwareManiacs.Org> Adapted from GitHub theme */ .highlight-base { color: #000; } .highlight-variable { color: #000; } .highlight-variable-2 { color: #1a1a1a; } .highlight-variable-3 { color: #333333; } .highlight-string { color: #BA2121; } .highlight-comment { color: #408080; font-style: italic; } .highlight-number { color: #080; } .highlight-atom { color: #88F; } .highlight-keyword { color: #008000; font-weight: bold; } .highlight-builtin { color: #008000; } .highlight-error { color: #f00; } .highlight-operator { color: #AA22FF; font-weight: bold; } .highlight-meta { color: #AA22FF; } /* previously not defined, copying from default codemirror */ .highlight-def { color: #00f; } .highlight-string-2 { color: #f50; } .highlight-qualifier { color: #555; } .highlight-bracket { color: #997; } .highlight-tag { color: #170; } .highlight-attribute { color: #00c; } .highlight-header { color: blue; } .highlight-quote { color: #090; } .highlight-link { color: #00c; } /* apply the same style to codemirror */ .cm-s-ipython span.cm-keyword { color: #008000; font-weight: bold; } .cm-s-ipython span.cm-atom { color: #88F; } .cm-s-ipython span.cm-number { color: #080; } .cm-s-ipython span.cm-def { color: #00f; } .cm-s-ipython span.cm-variable { color: #000; } .cm-s-ipython span.cm-operator { color: #AA22FF; font-weight: bold; } .cm-s-ipython span.cm-variable-2 { color: #1a1a1a; } .cm-s-ipython span.cm-variable-3 { color: #333333; } .cm-s-ipython span.cm-comment { color: #408080; font-style: italic; } .cm-s-ipython span.cm-string { color: #BA2121; } .cm-s-ipython span.cm-string-2 { color: #f50; } .cm-s-ipython span.cm-meta { color: #AA22FF; } .cm-s-ipython span.cm-qualifier { color: #555; } .cm-s-ipython span.cm-builtin { color: #008000; } .cm-s-ipython span.cm-bracket { color: #997; } .cm-s-ipython span.cm-tag { color: #170; } .cm-s-ipython span.cm-attribute { color: #00c; } .cm-s-ipython span.cm-header { color: blue; } .cm-s-ipython span.cm-quote { color: #090; } .cm-s-ipython span.cm-link { color: #00c; } .cm-s-ipython span.cm-error { color: #f00; } .cm-s-ipython span.cm-tab { background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=); background-position: right; background-repeat: no-repeat; } div.output_wrapper { /* this position must be relative to enable descendents to be absolute within it */ position: relative; /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; z-index: 1; } /* class for the output area when it should be height-limited */ div.output_scroll { /* ideally, this would be max-height, but FF barfs all over that */ height: 24em; /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */ width: 100%; overflow: auto; border-radius: 2px; -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8); box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8); display: block; } /* output div while it is collapsed */ div.output_collapsed { margin: 0px; padding: 0px; /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } div.out_prompt_overlay { height: 100%; padding: 0px 0.4em; position: absolute; border-radius: 2px; } div.out_prompt_overlay:hover { /* use inner shadow to get border that is computed the same on WebKit/FF */ -webkit-box-shadow: inset 0 0 1px #000; box-shadow: inset 0 0 1px #000; background: rgba(240, 240, 240, 0.5); } div.output_prompt { color: #D84315; } /* This class is the outer container of all output sections. */ div.output_area { padding: 0px; page-break-inside: avoid; /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } div.output_area .MathJax_Display { text-align: left !important; } div.output_area div.output_area div.output_area img, div.output_area svg { max-width: 100%; height: auto; } div.output_area img.unconfined, div.output_area svg.unconfined { max-width: none; } /* This is needed to protect the pre formating from global settings such as that of bootstrap */ .output { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } @media (max-width: 540px) { div.output_area { /* Old browsers */ display: -webkit-box; -webkit-box-orient: vertical; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: vertical; -moz-box-align: stretch; display: box; box-orient: vertical; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: column; align-items: stretch; } } div.output_area pre { margin: 0; padding: 0; border: 0; vertical-align: baseline; color: black; background-color: transparent; border-radius: 0; } /* This class is for the output subarea inside the output_area and after the prompt div. */ div.output_subarea { overflow-x: auto; padding: 0.4em; /* Old browsers */ -webkit-box-flex: 1; -moz-box-flex: 1; box-flex: 1; /* Modern browsers */ flex: 1; max-width: calc(100% - 14ex); } div.output_scroll div.output_subarea { overflow-x: visible; } /* The rest of the output_* classes are for special styling of the different output types */ /* all text output has this class: */ div.output_text { text-align: left; color: #000; /* This has to match that of the the CodeMirror class line-height below */ line-height: 1.21429em; } /* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */ div.output_stderr { background: #fdd; /* very light red background for stderr */ } div.output_latex { text-align: left; } /* Empty output_javascript divs should have no height */ div.output_javascript:empty { padding: 0; } .js-error { color: darkred; } /* raw_input styles */ div.raw_input_container { line-height: 1.21429em; padding-top: 5px; } pre.raw_input_prompt { /* nothing needed here. */ } input.raw_input { font-family: monospace; font-size: inherit; color: inherit; width: auto; /* make sure input baseline aligns with prompt */ vertical-align: baseline; /* padding + margin = 0.5em between prompt and cursor */ padding: 0em 0.25em; margin: 0em 0.25em; } input.raw_input:focus { box-shadow: none; } p.p-space { margin-bottom: 10px; } div.output_unrecognized { padding: 5px; font-weight: bold; color: red; } div.output_unrecognized a { color: inherit; text-decoration: none; } div.output_unrecognized a:hover { color: inherit; text-decoration: none; } .rendered_html { color: #000; /* any extras will just be numbers: */ } .rendered_html :link { text-decoration: underline; } .rendered_html :visited { text-decoration: underline; } .rendered_html h1:first-child { margin-top: 0.538em; } .rendered_html h2:first-child { margin-top: 0.636em; } .rendered_html h3:first-child { margin-top: 0.777em; } .rendered_html h4:first-child { margin-top: 1em; } .rendered_html h5:first-child { margin-top: 1em; } .rendered_html h6:first-child { margin-top: 1em; } .rendered_html * + ul { margin-top: 1em; } .rendered_html * + ol { margin-top: 1em; } .rendered_html pre, .rendered_html tr, .rendered_html th, .rendered_html td, .rendered_html * + table { margin-top: 1em; } .rendered_html * + p { margin-top: 1em; } .rendered_html * + img { margin-top: 1em; } .rendered_html img, .rendered_html img.unconfined, div.text_cell { /* Old browsers */ display: -webkit-box; -webkit-box-orient: horizontal; -webkit-box-align: stretch; display: -moz-box; -moz-box-orient: horizontal; -moz-box-align: stretch; display: box; box-orient: horizontal; box-align: stretch; /* Modern browsers */ display: flex; flex-direction: row; align-items: stretch; } @media (max-width: 540px) { div.text_cell > div.prompt { display: none; } } div.text_cell_render { /*font-family: \"Helvetica Neue\", Arial, Helvetica, Geneva, sans-serif;*/ outline: none; resize: none; width: inherit; border-style: none; padding: 0.5em 0.5em 0.5em 0.4em; color: #000; box-sizing: border-box; -moz-box-sizing: border-box; -webkit-box-sizing: border-box; } a.anchor-link:link { text-decoration: none; padding: 0px 20px; visibility: hidden; } h1:hover .anchor-link, h2:hover .anchor-link, h3:hover .anchor-link, h4:hover .anchor-link, h5:hover .anchor-link, h6:hover .anchor-link { visibility: visible; } .text_cell.rendered .input_area { display: none; } .text_cell.rendered .text_cell.unrendered .text_cell_render { display: none; } .cm-header-1, .cm-header-2, .cm-header-3, .cm-header-4, .cm-header-5, .cm-header-6 { font-weight: bold; font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif; } .cm-header-1 { font-size: 185.7%; } .cm-header-2 { font-size: 157.1%; } .cm-header-3 { font-size: 128.6%; } .cm-header-4 { font-size: 110%; } .cm-header-5 { font-size: 100%; font-style: italic; } .cm-header-6 { font-size: 100%; font-style: italic; } .highlight .hll { background-color: #ffffcc } .highlight { background: #f8f8f8; } .highlight .c { color: #408080; font-style: italic } /* Comment */ .highlight .err { border: 1px solid #FF0000 } /* Error */ .highlight .k { color: #008000; font-weight: bold } /* Keyword */ .highlight .o { color: #666666 } /* Operator */ .highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */ .highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */ .highlight .cp { color: #BC7A00 } /* Comment.Preproc */ .highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */ .highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */ .highlight .cs { color: #408080; font-style: italic } /* Comment.Special */ .highlight .gd { color: #A00000 } /* Generic.Deleted */ .highlight .ge { font-style: italic } /* Generic.Emph */ .highlight .gr { color: #FF0000 } /* Generic.Error */ .highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */ .highlight .gi { color: #00A000 } /* Generic.Inserted */ .highlight .go { color: #888888 } /* Generic.Output */ .highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */ .highlight .gs { font-weight: bold } /* Generic.Strong */ .highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */ .highlight .gt { color: #0044DD } /* Generic.Traceback */ .highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */ .highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */ .highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */ .highlight .kp { color: #008000 } /* Keyword.Pseudo */ .highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */ .highlight .kt { color: #B00040 } /* Keyword.Type */ .highlight .m { color: #666666 } /* Literal.Number */ .highlight .s { color: #BA2121 } /* Literal.String */ .highlight .na { color: #7D9029 } /* Name.Attribute */ .highlight .nb { color: #008000 } /* Name.Builtin */ .highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */ .highlight .no { color: #880000 } /* Name.Constant */ .highlight .nd { color: #AA22FF } /* Name.Decorator */ .highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */ .highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */ .highlight .nf { color: #0000FF } /* Name.Function */ .highlight .nl { color: #A0A000 } /* Name.Label */ .highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */ .highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */ .highlight .nv { color: #19177C } /* Name.Variable */ .highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */ .highlight .w { color: #bbbbbb } /* Text.Whitespace */ .highlight .mb { color: #666666 } /* Literal.Number.Bin */ .highlight .mf { color: #666666 } /* Literal.Number.Float */ .highlight .mh { color: #666666 } /* Literal.Number.Hex */ .highlight .mi { color: #666666 } /* Literal.Number.Integer */ .highlight .mo { color: #666666 } /* Literal.Number.Oct */ .highlight .sa { color: #BA2121 } /* Literal.String.Affix */ .highlight .sb { color: #BA2121 } /* Literal.String.Backtick */ .highlight .sc { color: #BA2121 } /* Literal.String.Char */ .highlight .dl { color: #BA2121 } /* Literal.String.Delimiter */ .highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */ .highlight .s2 { color: #BA2121 } /* Literal.String.Double */ .highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */ .highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */ .highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */ .highlight .sx { color: #008000 } /* Literal.String.Other */ .highlight .sr { color: #BB6688 } /* Literal.String.Regex */ .highlight .s1 { color: #BA2121 } /* Literal.String.Single */ .highlight .ss { color: #19177C } /* Literal.String.Symbol */ .highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */ .highlight .fm { color: #0000FF } /* Name.Function.Magic */ .highlight .vc { color: #19177C } /* Name.Variable.Class */ .highlight .vg { color: #19177C } /* Name.Variable.Global */ .highlight .vi { color: #19177C } /* Name.Variable.Instance */ .highlight .vm { color: #19177C } /* Name.Variable.Magic */ .highlight .il { color: #666666 } /* Literal.Number.Integer.Long */ /* Temporary definitions which will become obsolete with Notebook release 5.0 */ .ansi-black-fg { color: #3E424D; } .ansi-black-bg { background-color: #3E424D; } .ansi-black-intense-fg { color: #282C36; } .ansi-black-intense-bg { background-color: #282C36; } .ansi-red-fg { color: #E75C58; } .ansi-red-bg { background-color: #E75C58; } .ansi-red-intense-fg { color: #B22B31; } .ansi-red-intense-bg { background-color: #B22B31; } .ansi-green-fg { color: #00A250; } .ansi-green-bg { background-color: #00A250; } .ansi-green-intense-fg { color: #007427; } .ansi-green-intense-bg { background-color: #007427; } .ansi-yellow-fg { color: #DDB62B; } .ansi-yellow-bg { background-color: #DDB62B; } .ansi-yellow-intense-fg { color: #B27D12; } .ansi-yellow-intense-bg { background-color: #B27D12; } .ansi-blue-fg { color: #208FFB; } .ansi-blue-bg { background-color: #208FFB; } .ansi-blue-intense-fg { color: #0065CA; } .ansi-blue-intense-bg { background-color: #0065CA; } .ansi-magenta-fg { color: #D160C4; } .ansi-magenta-bg { background-color: #D160C4; } .ansi-magenta-intense-fg { color: #A03196; } .ansi-magenta-intense-bg { background-color: #A03196; } .ansi-cyan-fg { color: #60C6C8; } .ansi-cyan-bg { background-color: #60C6C8; } .ansi-cyan-intense-fg { color: #258F8F; } .ansi-cyan-intense-bg { background-color: #258F8F; } .ansi-white-fg { color: #C5C1B4; } .ansi-white-bg { background-color: #C5C1B4; } .ansi-white-intense-fg { color: #A1A6B2; } .ansi-white-intense-bg { background-color: #A1A6B2; } .ansi-bold { font-weight: bold; } In [39]: import numpy as np from scipy.stats import beta import matplotlib.pyplot as plt % matplotlib inline x_range = np . linspace ( 0.01 , 1 - 0.01 , 100 ) y1 = np . array ([ beta . pdf ( x , a = 5 , b = 2 ) for x in x_range ]) y2 = np . array ([ beta . pdf ( x , a = 1.5 , b = 6 ) for x in x_range ]) plt . plot ( x_range , y1 ) plt . plot ( x_range , y2 ) plt . plot ( x_range , ( 2 * y1 + y2 ) / 3.0 ) Out[39]: [ ] if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) { var mathjaxscript = document.createElement('script'); mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#'; mathjaxscript.type = 'text/javascript'; mathjaxscript.src = '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'; mathjaxscript[(window.opera ? \"innerHTML\" : \"text\")] = \"MathJax.Hub.Config({\" + \" config: ['MMLorHTML.js'],\" + \" TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } },\" + \" jax: ['input/TeX','input/MathML','output/HTML-CSS'],\" + \" extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js'],\" + \" displayAlign: 'center',\" + \" displayIndent: '0em',\" + \" showMathMenu: true,\" + \" tex2jax: { \" + \" inlineMath: [ ['$','$'] ], \" + \" displayMath: [ ['$$','$$'] ],\" + \" processEscapes: true,\" + \" preview: 'TeX',\" + \" }, \" + \" 'HTML-CSS': { \" + \" styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }\" + \" } \" + \"}); \"; (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript); } See this site for additional details and options. Setting a default category Pelican gives you two different ways to index pots: Categories and Tags. Since this is just a conventional blog, I don't really have cateogies per say. So, copying others, I decided to just use \"Archive\" as a catch-all category, and save tags as a way to allow posts to be grouped together. Rather than typing in Category: Archive into every post, you can set a default category in pelicanconf.py : DEFAULT_CATEGORY = 'Archive' Since I now only have one category, it no longer makes sense to display a list of categories in the sidebar. To remove this, I had to edit the theme. Specifically, I removed the following lines from pelican-octopress-theme/templates/_includes/sidebar.html : {% if categories %} <section> <h1> Categories </h1> <ul id= \"recent_posts\" > {% for category , articles in categories %} <li><a href= \" {{ SITEURL }} / {{ category.url }} \" > {{ category }} </a></li> {% endfor %} </ul> </section> {% endif %} Final changes and future plans The last thing I chose to do here is to edit pelicanconf.py again to comment out the lines for LINKS and SOCIAL. There are many more ways to edit the appearance of the site, but I'm leaving all that for future plans. References Most of the information in this post came from the following pages: http://nafiulis.me/making-a-static-blog-with-pelican.html http://docs.getpelican.com/en/3.0/getting_started.html http://blog.likewise.org/2016/08/switching-from-octopress-to-pelican/ http://octopress.org/docs/theme/styles/ http://aijazansari.com/2012/08/27/how-to-customize-octopress-theme/ if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) { var align = \"center\", indent = \"0em\", linebreak = \"false\"; if (false) { align = (screen.width < 768) ? \"left\" : align; indent = (screen.width < 768) ? \"0em\" : indent; linebreak = (screen.width < 768) ? 'true' : linebreak; } var mathjaxscript = document.createElement('script'); var location_protocol = (false) ? 'https' : document.location.protocol; if (location_protocol !== 'http' && location_protocol !== 'https') location_protocol = 'https:'; mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#'; mathjaxscript.type = 'text/javascript'; mathjaxscript.src = location_protocol + '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'; mathjaxscript[(window.opera ? \"innerHTML\" : \"text\")] = \"MathJax.Hub.Config({\" + \" config: ['MMLorHTML.js'],\" + \" TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } },\" + \" jax: ['input/TeX','input/MathML','output/HTML-CSS'],\" + \" extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js'],\" + \" displayAlign: '\"+ align +\"',\" + \" displayIndent: '\"+ indent +\"',\" + \" showMathMenu: true,\" + \" messageStyle: 'normal',\" + \" tex2jax: { \" + \" inlineMath: [ ['\\\\\\\\(','\\\\\\\\)'] ], \" + \" displayMath: [ ['$$','$$'] ],\" + \" processEscapes: true,\" + \" preview: 'TeX',\" + \" }, \" + \" 'HTML-CSS': { \" + \" styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} },\" + \" linebreaks: { automatic: \"+ linebreak +\", width: '90% container' },\" + \" }, \" + \"}); \" + \"if ('default' !== 'default') {\" + \"MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {\" + \"var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;\" + \"VARIANT['normal'].fonts.unshift('MathJax_default');\" + \"VARIANT['bold'].fonts.unshift('MathJax_default-bold');\" + \"VARIANT['italic'].fonts.unshift('MathJax_default-italic');\" + \"VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');\" + \"});\" + \"MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {\" + \"var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;\" + \"VARIANT['normal'].fonts.unshift('MathJax_default');\" + \"VARIANT['bold'].fonts.unshift('MathJax_default-bold');\" + \"VARIANT['italic'].fonts.unshift('MathJax_default-italic');\" + \"VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');\" + \"});\" + \"}\"; (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript); }","tags":"Archive","loc":"https://dallascard.github.io/building-this-blog.html","title":"Building this Blog"}]}